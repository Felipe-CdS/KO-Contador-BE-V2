"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.router = void 0;
const express_1 = require("express");
const CreateNewTaxTableController_1 = require("./controllers/TaxTable/CreateNewTaxTableController");
const GetAllTaxTablesController_1 = require("./controllers/TaxTable/GetAllTaxTablesController");
const GetSingleTaxTableController_1 = require("./controllers/TaxTable/GetSingleTaxTableController");
const CreateNewTransactionController_1 = require("./controllers/Transaction/CreateNewTransactionController");
const GetSingleTransactionController_1 = require("./controllers/Transaction/GetSingleTransactionController");
const GetTransactionsByYearController_1 = require("./controllers/Transaction/GetTransactionsByYearController");
const GetTxByYearAndTaxTypeController_1 = require("./controllers/Transaction/GetTxByYearAndTaxTypeController");
const CreateUserController_1 = require("./controllers/User/CreateUserController");
const DeleteUserController_1 = require("./controllers/User/DeleteUserController");
const GetUsersByPageController_1 = require("./controllers/User/GetUsersByPageController");
const GetUserTaxTypesController_1 = require("./controllers/User/GetUserTaxTypesController");
const LoginUserController_1 = require("./controllers/User/LoginUserController");
const SearchUserByNameController_1 = require("./controllers/User/SearchUserByNameController");
const UpdateEmailController_1 = require("./controllers/User/UpdateEmailController");
const UpdatePasswordController_1 = require("./controllers/User/UpdatePasswordController");
const ensureAdmin_1 = require("./middlewares/ensureAdmin");
const ensureAuth_1 = require("./middlewares/ensureAuth");
const router = (0, express_1.Router)();
exports.router = router;
const createNewTaxTableController = new CreateNewTaxTableController_1.CreateNewTaxTableController();
const getAllTaxTablesController = new GetAllTaxTablesController_1.GetAllTaxTablesController();
const getSingleTaxTableController = new GetSingleTaxTableController_1.GetSingleTaxTableController();
const createUserController = new CreateUserController_1.CreateUserController();
const loginUserController = new LoginUserController_1.LoginUserController();
const updatePasswordController = new UpdatePasswordController_1.UpdatePasswordController();
const updateEmailController = new UpdateEmailController_1.UpdateEmailController();
const getUserTaxTypesController = new GetUserTaxTypesController_1.GetUserTaxTypesController();
const getUsersByPageController = new GetUsersByPageController_1.GetUsersByPageController();
const deleteUserController = new DeleteUserController_1.DeleteUserController();
const searchUserByNameController = new SearchUserByNameController_1.SearchUserByNameController();
const createNewTransactionController = new CreateNewTransactionController_1.CreateNewTransactionController();
const getTransactionsByYearController = new GetTransactionsByYearController_1.GetTransactionsByYearController();
const getSingleTransactionController = new GetSingleTransactionController_1.GetSingleTransactionController();
const getTxByYearAndTaxTypeController = new GetTxByYearAndTaxTypeController_1.GetTxByYearAndTaxTypeController();
router.post("/tax-tables", ensureAdmin_1.ensureAdmin, createNewTaxTableController.handle);
router.get("/tax-tables/all", ensureAdmin_1.ensureAdmin, getAllTaxTablesController.handle);
router.get("/tax-tables/:number_identifier", ensureAdmin_1.ensureAdmin, getSingleTaxTableController.handle);
router.post("/users/auth/signin", loginUserController.handle);
router.put("/users/change-password", ensureAuth_1.ensureAuth, updatePasswordController.handle);
router.put("/users/change-email", ensureAuth_1.ensureAuth, updateEmailController.handle);
router.post("/users/auth/signup", ensureAdmin_1.ensureAdmin, createUserController.handle);
router.get("/users", ensureAdmin_1.ensureAdmin, getUsersByPageController.handle);
router.delete("/users", ensureAdmin_1.ensureAdmin, deleteUserController.handle);
router.get("/users/tax-types", ensureAuth_1.ensureAuth, getUserTaxTypesController.handle);
router.get("/search-user", ensureAdmin_1.ensureAdmin, searchUserByNameController.handle);
router.post("/transactions", ensureAuth_1.ensureAuth, createNewTransactionController.handle);
router.get("/transactions/:year", ensureAuth_1.ensureAuth, getTransactionsByYearController.handle);
router.get("/transactions", ensureAuth_1.ensureAuth, getTxByYearAndTaxTypeController.handle);
router.get("/single-transaction", ensureAuth_1.ensureAuth, getSingleTransactionController.handle);
router.get("/", (req, res) => { res.status(200).json({ statusMessage: "OK OK" }); });
